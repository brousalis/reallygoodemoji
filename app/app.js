angular.module("bendy.templates",[]).run(["$templateCache",function(e){e.put("app/emoji/emoji.html",'<div ng-show=!loading class="bg-gray-lighter s-md ta-c z-500" style="box-shadow: 0 -1px 5px rgba(0,0,0,0.5)"><div class="cf mw-md mx-a p-sm"><div class=f-l><span ng-show=!copied>üëç</span> <span ng-show=!copied>you have {{ count.emoji }} <span class=c-brand>really good emoji</span></span> <span ng-show=copied><i class=i-clipboard></i></span> <span ng-show=copied>copied <span class=c-brand>{{ copiedText }}</span> to clipboard</span></div><div class="f-r settings"><a class="c-pointer pl" ng-click="compact = true" ng-show=!compact><i class=i-grid></i></a> <a class="c-pointer pl" ng-click="compact = false" ng-show=compact><i class=i-list></i></a> <a class="c-pointer pl" ng-class="{\'active\': settings}" ng-click="settings = !settings"><i class=i-settings></i></a></div></div><div ng-show=settings><div class=p-sm><input ng-model=size ng-change=saveSize() type=range min=24 max=128> <span>{{ size }}px</span></div></div></div><div><input name=search placeholder="üîç type anywhere to search" type=search search ng-model=search></div><div class="mw-md mx-a m-lg ta-c"><div class=cf ng-if=!loading infinite-scroll=loadMore() infinite-scroll-distance=2><div class=emoji ng-class="{\'compact\': compact}" style="width: {{ size }}px; height: {{ size }}px" ng-repeat="e in emoji | fuzzyBy: \'alias\': search track by $index" clipboard supported=supported text=alias(e.alias) on-copied=didCopy(e.alias)><div class=emoji-alias ng-show="size > 64">{{ e.alias }}</div><img class="p-a center-xy" alt="{{ e.alias }}" ng-src="{{ e.src }}"></div></div></div><footer class="d-t p col-12 ta-c"><span class="color-gray-light d-tc va-m">made by <a href=http://twitter.com/brousalis>pete</a> <span class=p-r style=top:1px>üêß</span></span></footer>')}]),function(){function e(){return{$get:["localStorageService",function(e){var n=e;return{get:function(e){return n.get(e)},set:function(e,t){return n.set(e,t)},remove:function(e){return n.remove(e)}}}]}}angular.module("app.storageService",["LocalStorageModule"]).provider("storageService",e)}(),function(e){var n=e.module("app.slackService",[]);n.value("slackConfig",{OAuthUrl:"https://slack.com/oauth/authorize",ApiUrl:"https://slack.com/api/",DefaultToken:""})}(angular),function(e){e.module("app.slackService").service("slackService",["$http","$log","slackConfig",function(e,n,t){function o(e,n,o){var i={token:o||t.DefaultToken,user:e};M("users.getPresence",i,n)}function i(e,n,o){var i={token:o||t.DefaultToken,user:e};M("users.info",i,n)}function a(e,n){var o={token:n||t.DefaultToken};M("users.list",o,e)}function l(e,n){var o={token:n||t.DefaultToken};M("users.setActive",o,e)}function c(e,n,o){var i={token:o||t.DefaultToken,presence:e};M("users.setPresence",i,n)}function r(e){var n={token:e||t.DefaultToken};M("auth.test",n)}function s(e,n){var o="&"+V(n),i=t.OAuthUrl+"?client_id="+e+o;window.location.replace(i)}function u(e,n){t.DefaultToken=e,p(n)}function f(e,n,t,o){var i={client_id:e,client_secret:n,code:t};M("oauth.access",i,o)}function p(e,n){var o={token:n||t.DefaultToken};M("auth.test",o,e)}function d(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.archive",i,n)}function m(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.unarchive",i,n)}function v(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.history",i,n)}function g(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,user:n};M("channels.invite",a,o)}function h(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.join",i,n)}function k(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,user:n};M("channels.kick",a,o)}function T(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.leave",i,n)}function D(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,ts:n};M("channels.mark",a,o)}function S(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.rename",i,n)}function y(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,purpose:n};M("channels.setPurpose",a,o)}function $(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,topic:n};M("channels.setTopic",a,o)}function j(e,n){var o={token:n||t.DefaultToken};M("channels.list",o,e)}function w(e,n,o){var i={token:o||t.DefaultToken,channel:e};M("channels.info",i,n)}function E(e,n,o){var i={token:o||t.DefaultToken,name:e};M("channels.create",i,n)}function C(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,text:n};M("channels.info",a,o)}function b(e,n,o,i){var a={token:i||t.DefaultToken,channel:e,ts:n};M("chat.delete",a,o)}function x(e,n,o,i,a){var l={token:a||t.DefaultToken,channel:e,ts:n,text:o};M("chat.update",l,i)}function I(e,n){var o={token:n||t.DefaultToken};M("team.info",o,e)}function L(e,n){var o={token:n||t.DefaultToken};M("team.accessLogs",o,e)}function z(e,n,o){var i={token:o||t.DefaultToken,file:e};M("files.delete",i,n)}function P(e,n,o){var i={token:o||t.DefaultToken,file:e};M("files.info",i,n)}function N(e,n){var o={token:n||t.DefaultToken};M("files.list",o,e)}function R(e,n){if(e.token=token||t.DefaultToken,e.content){var o=t.ApiUrl+"files.upload";B(o,e,n)}M("files.upload",e,n)}function _(e,n,o){var i={token:o||t.DefaultToken,query:e};M("search.files",i,n)}function O(e,n,o){var i={token:o||t.DefaultToken,query:e};M("search.all",i,n)}function U(e,n,o){var i={token:o||t.DefaultToken,query:e};M("search.messages",i,n)}function A(e,n,o){var i={token:o||t.DefaultToken,user:e};M("stars.list",i,n)}function M(e,n,o){var i=V(n),a=t.ApiUrl+e+"?"+i;q(a,o)}function q(t,o){e.get(t).success(function(e){o&&o(e)}).error(function(e,t){n.log(t),n.log(e)})}function B(t,o,i){e.post(t,o).success(function(e){i(e)}).error(function(e,t){n.log(t),n.log(e)})}function V(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function H(){n.log("Method not implemented. Remind nickaranz@gmail.com to quit slacking")}return{authorize:s,auth:{test:p},oauth:{access:f},channels:{archive:d,create:E,history:v,info:w,invite:g,join:h,kick:k,leave:T,list:j,mark:D,rename:S,setPurpose:y,setTopic:$,unarchive:m},chat:{"delete":b,postMessage:C,update:x},files:{"delete":z,info:P,list:N,upload:R},rtm:{start:r},search:{all:O,files:_,messages:U},stars:{list:A},team:{accessLogs:L,info:I},users:{getPresence:o,info:i,list:a,setActive:l,setPresence:c},InitToken:u,ExecuteApiMethod:M,groups:{archive:H,close:H,create:H,createChild:H,history:H,invite:H,kick:H,leave:H,list:H,mark:H,open:H,rename:H,setPurpose:H,setTopic:H,unarchive:H},im:{close:H,history:H,list:H,mark:H,open:H}}}])}(angular),angular.module("app",["ngSanitize","ui.router","angular-clipboard","angular.filter","infinite-scroll","bendy.templates","bendy.env","app.slackService","app.storageService"]),function(){function e(e){e.state("login",{url:"/login?code",controller:"LoginController"})}function n(e,n,t,o,i){var a={client:i.CLIENT_ID,secret:i.CLIENT_SECRET};n.code?(o.set("code",n.code),o.get("code")&&t.oauth.access(a.client,a.secret,o.get("code"),function(n){n.ok&&(o.set("token",n.access_token),t.InitToken(n.access_token),e.go("emoji"))})):(o.remove("code"),o.remove("token"),e.go("main"))}n.$inject=["$state","$stateParams","slackService","storageService","ENV"],e.$inject=["$stateProvider"],angular.module("app").controller("LoginController",n).config(e)}(),function(){function e(e){return function(n,t,o){e.bind("keypress",function(e){n.searching=!0,t[0].focus(),n.$apply()}),t.bind("keydown",function(e){(27===e.which||13===e.which)&&(n.searching=!1,n.search="",n.$apply())})}}e.$inject=["$document"],angular.module("app").directive("search",e)}(),angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,n,t,o){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(i,a,l){var c,r,s,u,f,p,d,m,v,g,h,k,T,D,S,y,$,j,w;return w=angular.element(n),D=null,S=null,s=null,u=null,h=!0,j=!1,$=null,r=!1,g=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},k=function(e){return e[0].getBoundingClientRect&&!e.css("none")?e[0].getBoundingClientRect().top+T(e):void 0},T=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},v=function(){var n,o,l,c,f;return u===w?(n=g(u)+T(u[0].document.documentElement),l=k(a)+g(a)):(n=g(u),o=0,void 0!==k(u)&&(o=k(u)),l=k(a)-o+g(a)),j&&(l=g((a[0].ownerDocument||a[0].document).documentElement)),c=l-n,f=c<=g(u)*D+1,f?(s=!0,S?i.$$phase||e.$$phase?i.infiniteScroll():i.$apply(i.infiniteScroll):void 0):(r&&t.cancel(r),s=!1)},y=function(e,n){var o,i,a;return a=null,i=0,o=function(){return i=(new Date).getTime(),t.cancel(a),a=null,e.call()},function(){var l,c;return l=(new Date).getTime(),c=n-(l-i),0>=c?(t.cancel(a),a=null,i=l,e.call()):a?void 0:a=t(o,c,1)}},null!=o&&(v=y(v,o)),i.$on("$destroy",function(){return u.unbind("scroll",v),null!=$&&($(),$=null),r?t.cancel(r):void 0}),d=function(e){return D=parseFloat(e)||0},i.$watch("infiniteScrollDistance",d),d(i.infiniteScrollDistance),p=function(e){return S=!e,S&&s?(s=!1,v()):void 0},i.$watch("infiniteScrollDisabled",p),p(i.infiniteScrollDisabled),m=function(e){return j=e},i.$watch("infiniteScrollUseDocumentBottom",m),m(i.infiniteScrollUseDocumentBottom),c=function(e){return null!=u&&u.unbind("scroll",v),u=e,null!=e?u.bind("scroll",v):void 0},c(w),i.infiniteScrollListenForEvent&&($=e.$on(i.infiniteScrollListenForEvent,v)),f=function(e){if(null!=e&&0!==e.length){if(e.nodeType&&1===e.nodeType?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return c(e);throw new Error("invalid infinite-scroll-container attribute.")}},i.$watch("infiniteScrollContainer",f),f(i.infiniteScrollContainer||[]),null!=l.infiniteScrollParent&&c(angular.element(a.parent())),null!=l.infiniteScrollImmediateCheck&&(h=i.$eval(l.infiniteScrollImmediateCheck)),r=t(function(){return h&&v(),t.cancel(r)})}}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="infinite-scroll"),function(){function e(e){e.state("emoji",{url:"/emoji",templateUrl:"app/emoji/emoji.html",controller:"EmojiController"})}function n(e,n,t,o,i,a){e.loading=!0,e.copied=!1,e.size=128,e.compact=!1,a.get("token")||n.go("login");var l={token:a.get("token")};e.alias=function(e){return":"+e+":"},e.didCopy=function(n){e.copied=!0,e.copiedText=n,t(function(){e.copied=!1},1e3)},e.loadMore=function(){if(0!==e.all.length){var n=e.all.splice(0,20);e.emoji=e.emoji.concat(n)}},e.saveSize=function(){console.log(e.size)},i.ExecuteApiMethod("emoji.list",l,function(n){if(n.ok){var t=n.emoji,o=[],i={},a=!0,l=!1,c=void 0;try{for(var r,s=Object.keys(t)[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var u=r.value;/^alias/.test(t[u])?(i[t[u].replace("alias:","")]=u,delete t[u]):o.push({alias:u,src:t[u]})}}catch(f){l=!0,c=f}finally{try{!a&&s["return"]&&s["return"]()}finally{if(l)throw c}}e.count={emoji:Object.keys(o).length,aliases:Object.keys(i).length},o.sort(function(e,n){return e=e.alias,n=n.alias,n>e?-1:e>n?1:0}),e.aliases=i,e.all=o,e.emoji=o.splice(0,20),e.loading=!1}else e.loading=!1,e.error=!0})}e.$inject=["$stateProvider"],n.$inject=["$scope","$state","$timeout","$q","slackService","storageService"],angular.module("app").config(e).controller("EmojiController",n).directive("isolate",function(){return{scope:!0}})}(),angular.module("bendy.env",[]).constant("ENV",{CLIENT_ID:"2164711395.63729561477",CLIENT_SECRET:"c8e690c6e80477c8c91f45d573658fe6",REDIRECT_URI:"http://reallygoodemoji.site/#/login"}).constant("NODE_ENV","development"),function(){function e(e,n,t,o,i){var a={client:i.CLIENT_ID,secret:i.CLIENT_SECRET,authParams:{redirect_uri:i.REDIRECT_URI,scope:"emoji:read"}};o.get("token")?n.go("emoji"):t.authorize(a.client,a.authParams)}e.$inject=["$scope","$state","slackService","storageService","ENV"],angular.module("app").controller("AppController",e)}(),function(){function e(e,n){n.state("main",{url:"/",controller:"AppController"}),e.otherwise("/")}function n(e){e.useAnchorScroll()}function t(e){e.debugInfoEnabled(!0),e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|blob|emoji):|data:image\//)}e.$inject=["$urlRouterProvider","$stateProvider"],t.$inject=["$compileProvider"],n.$inject=["$uiViewScrollProvider"],angular.module("app").config(e).config(t).config(n)}();